(this.webpackJsonppokebattle=this.webpackJsonppokebattle||[]).push([[0],{106:function(e,t,a){e.exports={container:"Loader_container__DlFuX",lds_ripple:"Loader_lds_ripple__2YAYp",enter:"Loader_enter__98FdB"}},138:function(e,t,a){e.exports=a.p+"static/media/pokemon_logo.40fac573.png"},140:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBRELJwsgBsiyAAACzklEQVRIx23US2hdVRTG8V8eTbRx0A4ajBG1FdNYEm2sQgWrKA50rEV8DDoQZ6YDQayPVklK0moaEaUKTsXXSNvipIo4CAStSHtBsANHYrhN6iA0PpLc5eCee+7Z59w1Omev/f332nvtb9OOXi9btOQ7T+oUhyxaVfOWvk7pfmeEsCaEqUp+TghXbArnba3Kzwk1e/C4q8J0kj8l1D2AnS4I36aIPl8Jv7ox+99rWTiZ52eEuvHsb5tF4Qc3tOVfJ/IyIpVXEL3OCjWD2FU4nn2uCsez4sfy8S1uxXY/Cef18XouH7LuA3S7pYBoy0f04IRNN2G7C8IxLmoYydp41P04LNxTQHyUyRuOYcJx3WCXTb+zarnUkRGzBpKNTGOr6eQcYNk//Cjsz5t5wt2lSfuSpo541XXZ94PCL7wg/GF3lt5I+j9kbwnxhkY2d0xdeA5OFxB36E9aueGZBHG9PQX5XHNil/eFpSzVigkrQsO6g5WrNepPYb49uYpoCt520HpWRRtRkTcRHxY2ssOKMAOetpFV0WpqXTilEsUqbndNmMwybUSzisrqrZgVOeIR1zQKiIZ1o6o2K8S8UPdZvpEiYkZYMdThXiSr140nG2khmvKJ0gEnVRQNW0QcsCqEv9ybLFdCzBXkd+lPOnLAaiIfSGw2Bc8WDLtTw2ypqTfbUVj7XZGY/Qm+Fx7O0n2OZKj0XrRjxGRmZh4TFliyVpq021G9FcSA90pO7bJmhQWRnXCfk+7DaxruRJdPE5utO4KHfJw9fGPCJSaF3wzjNpum0J+9UOPqooAYtgVv+s8wBtWEl+j2RY4YyvfXks93OIttGHRJOKMHenySI1rRdlwnsw+6KHyTv00VRGrYMqK5ekEOvb4ULpvAoxXDtjqyH6NqwrnCy5UjPhfC30J4p5TtclqIzM5nq3Lo9qKfrVjwVKe059X867JX9LYH/wdAMFqpucdN7QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNS0xN1QxMTozOToxMSswMDowMAf6pmwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDUtMTdUMTE6Mzk6MTErMDA6MDB2px7QAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},141:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBREMCBC9MC+2AAABPklEQVRIx82UoVLDQBRFT0pmMFRgEMBXYDBpRQfHoPD8AbqmIkg0ih8AVVVZWwOCGX4AhcYwMGkJs4iSpEnv2+yA6d3JTHbfzX337b4s+DFi5CfEntgWNxwD+1zyzR8wZkqXLlPGNinyCDi2OQRemdu8jtfDgoSEhX8P1C7k5dusbcdiMilbIAFeylmmqL5zCHKgQlUJdQeCVSxlUrbpQLC0gwoXQBpSQn2WG3IiXhfI5Ko3rh1YEPEO/8RmCgwZSO6AYZjAjDtO1lb73PMQ6qvHB64x3ukpqj64I97oc8ayC4snEDG3PHFAupL9i2v7A7c2Juw0OLvMrXS+O7FKAdbt6UILU8Q4VGBZmBZ1IZ0YCfttv12rA1c5cHI8c17mjdgzT8HEKY8rcp9cWQ58Iulv/6WiDwMEmkXVkRfPD9BDeGvWZK21AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA1LTE3VDEyOjA4OjE2KzAwOjAwCbf5EwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNS0xN1QxMjowODoxNiswMDowMHjqQa8AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},155:function(e,t,a){e.exports=a(211)},182:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),s=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(16),i=a(35),u=a(137),l=a(145),m=a(69),b=a(6),p={chars:[],isLoading:!1,offset:0,requestLimit:0},d=a(11),E=a.n(d),A=a(5),f={CHARS_REQUEST:"CHARS/CHARS_REQUEST"},O={endCharsRequest:function(){return{type:"CHARS/END_CHARS_REQUEST"}},charsRequestSuccess:function(e){return{type:"CHARS/CHARS_REQUEST_SUCCESS",data:e}},changeCharsRequestOffset:function(){return{type:"CHARS/CHANGE_CHARS_REQUEST_OFFSET"}},setCharsCount:function(e){return{type:"CHARS/SET_CHARS_COUNT",count:e}},setCharPlayed:function(e){return{type:"CHARS/SET_CHAR_PLAYED",enemyName:e}},charsRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:f.CHARS_REQUEST,offset:e}}},h="BATTLE/INIT_GAME/INIT_GAME",g={loadPlayer:function(e){return{type:"BATTLE/INIT_GAME/LOAD_PLAYER",char:e}},loadEnemy:function(e){return{type:"BATTLE/INIT_GAME/LOAD_ENEMY",char:e}},initialStart:function(){return{type:"BATTLE/INIT_GAME/START"}},initGame:function(e,t){return{type:h,playerCharName:e,history:t}}},y="BATTLE/ENGINE/PLAYER_ATTACK",j="BATTLE/ENGINE/SET_LOG_ACTION",x="BATTLE/ENGINE/CLEAR_LOG_ACTION",v="BATTLE/ENGINE/IS_WAITING",C="BATTLE/ENGINE/HEAL_ACTION",T="BATTLE/ENGINE/REDUCE_MP",k="BATTLE/ENGINE/PUSH_RESULT",N="BATTLE/ENGINE/IS_LOOSER",P="BATTLE/ENGINE/IS_WINNER",L={playerAttack:function(e,t){return{type:y,isEnemy:e,isCrit:t}},setLogAction:function(e){return{type:j,action:e}},makeAttack:function(e,t){return{type:"BATTLE/ENGINE/MAKE_ATTACK",hp:e,isEnemy:t}},clearLog:function(){return{type:x}},isWaiting:function(){return{type:v}},healActivate:function(e){return{type:C,isEnemy:e}},healing:function(e,t){return{type:"BATTLE/ENGINE/HEALING",hp:e,isEnemy:t}},reduceMP:function(e,t){return{type:T,mp:e,isEnemy:t}},pushResultOfTheBattle:function(){return{type:k}},setIsLooser:function(){return{type:N}},playerIsWinner:function(){return{type:P}}},w=Object(b.a)(Object(b.a)(Object(b.a)(Object(b.a)({},O),{setMsg:function(e){return{type:"APP/SET_MSG",alert:e}}}),g),L),S=(Object(b.a)({},f),a(93)),R=a(94),I=a.n(R),M={getChar:function(){var e=Object(S.a)(E.a.mark((function e(t){var a,n,r,c,s,o,i,u,l,m;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get(t);case 2:return a=e.sent,n=a.data,r=n.name,c=n.sprites,s=n.stats,o=n.weight,i=s.find((function(e){return"hp"===e.stat.name})),u=s.map((function(e){return{name:e.stat.name,base:e.base_stat}})),(l=u.find((function(e){return"defense"===e.name})))&&(l.base<=60?u.push({name:"mp",base:40}):u.push({name:"mp",base:20})),m=u.find((function(e){return"mp"===e.name})),e.abrupt("return",{name:r,sprites:c.front_default,stats:u,baseHP:i?i.base_stat:0,baseMP:m?m.base:0,weight:o});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCharacters:function(){var e=Object(S.a)(E.a.mark((function e(){var t,a,n,r=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.next=3,I.a.get("https://pokeapi.co/api/v2/pokemon/?offset=".concat(t,"&limit=6"));case 3:return a=e.sent,n=a.data.results,e.abrupt("return",Promise.all(n.map((function(e){return M.getChar(e.url)}))));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getCount:function(){var e=Object(S.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://pokeapi.co/api/v2/pokemon/");case 2:return t=e.sent,a=t.data.count,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},G=function(e){return e.charsState.isLoading},H=function(e){return e.initGame.gameStart},_=function(e){return e.charsState.chars},B=function(e){return e.charsState.offset},Q=function(e){return e.charsState.requestLimit},D=function(e){return{offset:B(e),requestLimit:Q(e)}},W=function(e,t){var a=e.charsState.chars;return{player:a.find((function(e){return e.name===t})),enemy:a.find((function(e){return e.name!==t&&!0!==e.played}))}},U=function(e){return e.initGame.Player},Y=function(e){return e.initGame.Enemy},F=function(e){return e.initGame.Enemy.countHP},q=function(e){return e.initGame.Player.countHP},Z=function(e){return e.initGame.log.value},V=function(e){return e.initGame.playerWaiting},X=function(e){return e.initGame.resultLog},J=function(e){return e.initGame.isPlayerWinner},K=function(e){return e.initGame.isLooser},z=E.a.mark(ne),$=E.a.mark(re),ee=E.a.mark(ce),te=E.a.mark(se),ae=E.a.mark(oe);function ne(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.b)(M.getCount);case 2:return e=t.sent,t.next=5,Object(A.d)(w.setCharsCount(e));case 5:case"end":return t.stop()}}),z)}function re(e){var t;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(A.b)(M.getCharacters,e);case 2:return t=a.sent,a.next=5,Object(A.d)(w.charsRequestSuccess(t));case 5:case"end":return a.stop()}}),$)}function ce(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.e)(D);case 2:if(!((e=t.sent).offset<e.requestLimit)){t.next=8;break}return t.next=6,Object(A.d)(w.setMsg({type:"success",msg:"Randomly chars have loaded"}));case 6:t.next=10;break;case 8:return t.next=10,Object(A.d)(w.setMsg({type:"info",msg:"All randomly chars have loaded. Update page to try more"}));case 10:case"end":return t.stop()}}),ee)}function se(e){var t;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.offset,a.prev=1,a.next=4,Object(A.b)(ne);case 4:return a.next=6,Object(A.b)(re,t);case 6:return a.next=8,Object(A.d)(w.endCharsRequest());case 8:return a.next=10,Object(A.d)(w.changeCharsRequestOffset());case 10:return a.next=12,Object(A.b)(ce);case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(1),a.next=18,Object(A.d)(w.setMsg({type:"error",msg:"server error, try later"}));case 18:case"end":return a.stop()}}),te,null,[[1,14]])}function oe(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.f)(f.CHARS_REQUEST,se);case 2:case"end":return e.stop()}}),ae)}var ie=E.a.mark(le),ue=E.a.mark(me);function le(e){var t,a,n,r,c,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.playerCharName,a=e.history,o.prev=1,n=function(){return a.push("/battle")},o.next=5,Object(A.e)((function(e){return W(e,t)}));case 5:if(r=o.sent,c=r.player,s=r.enemy,!c||!s){o.next=19;break}return o.next=11,Object(A.d)(w.loadPlayer(c));case 11:return o.next=13,Object(A.d)(w.loadEnemy(s));case 13:return o.next=15,Object(A.d)(w.initialStart());case 15:return o.next=17,Object(A.b)(n);case 17:o.next=21;break;case 19:return o.next=21,Object(A.d)(w.setMsg({type:"error",msg:"Error with player choosing try later..."}));case 21:o.next=27;break;case 23:return o.prev=23,o.t0=o.catch(1),o.next=27,Object(A.d)(w.setMsg({type:"error",msg:o.t0.message}));case 27:case"end":return o.stop()}}),ie,null,[[1,23]])}function me(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.f)(h,le);case 2:case"end":return e.stop()}}),ue)}var be=E.a.mark(de),pe=function(e){var t=e.stats.find((function(e){return"hp"===e.name})),a=e.stats.find((function(e){return"mp"===e.name})),n=e.baseHP<60?Math.round(70*e.baseHP/100):Math.round(40*e.baseHP/100);if(a&&t)return{hp:t.base+n>e.baseHP?e.baseHP:t.base+n,mp:a.base-10};throw new Error("Player and enemy stats not found")};function de(e){var t,a,n,r,c,s,o,i,u;return E.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e.isEnemy){l.next=4;break}return l.next=4,Object(A.d)(w.isWaiting());case 4:return l.next=6,Object(A.e)(U);case 6:return a=l.sent,l.next=9,Object(A.e)(Y);case 9:if(n=l.sent,t){l.next=24;break}return l.next=13,Object(A.b)(pe,a);case 13:return r=l.sent,c=r.hp,s=r.mp,l.next=18,Object(A.d)(w.healing(c,t));case 18:return l.next=20,Object(A.d)(w.reduceMP(s,t));case 20:return l.next=22,Object(A.d)(w.playerAttack(!0,!1));case 22:l.next=39;break;case 24:return l.next=26,Object(A.b)(pe,n);case 26:return o=l.sent,i=o.hp,u=o.mp,l.next=31,Object(A.d)(w.healing(i,t));case 31:return l.next=33,Object(A.d)(w.reduceMP(u,t));case 33:return l.next=35,Object(A.d)(w.setLogAction("Restore ".concat(i," HP")));case 35:return l.next=37,Object(A.d)(je("Healing now",!1,"warning"));case 37:return l.next=39,Object(A.d)(w.setLogAction(" Your turn!!!"));case 39:case"end":return l.stop()}}),be)}var Ee=function(e,t,a,n){var r={},c={};e.stats.forEach((function(e){r[e.name]=e.base})),t.stats.forEach((function(e){c[e.name]=e.base}));var s,o,i=function(e){return e?3:5-Math.round(5*Math.random())===5?2:1}(n),u=(s=c.attack,o=r.attack,s-o>=30?21:s-o>=20?12:4),l=function(e,t,a){return t>e?a:a-(Math.round(5*Math.random())+5)}(c.attack,r.attack,c.defense),m=r.attack*u/l*r.speed*i/Math.sqrt(c.hp*c.defense),b=r["special-attack"]/c["special-defense"],p=a?b:m,d=c.hp-p;return{damage:Math.round(p),hp:Math.round(d),critAttack:i}},Ae=E.a.mark(Oe),fe=E.a.mark(he);function Oe(e,t,a,n,r){var c,s;return E.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,c="".concat(e.name," attack ").concat(t.name," and make ").concat(a," damage \n\n"),s="Special defense activated!!! \n",!n){o.next=14;break}return o.next=6,Object(A.d)(w.setLogAction(s));case 6:return o.next=8,Object(A.d)(je(s,r,"warning"));case 8:return o.next=10,Object(A.c)(1600);case 10:return o.next=12,Object(A.d)(w.setLogAction(c));case 12:o.next=18;break;case 14:return o.next=16,Object(A.d)(w.setLogAction(c));case 16:return o.next=18,Object(A.d)(je(" - ".concat(a),r));case 18:o.next=24;break;case 20:return o.prev=20,o.t0=o.catch(0),o.next=24,Object(A.d)(w.setMsg({type:"error",msg:o.t0.message}));case 24:case"end":return o.stop()}}),Ae,null,[[0,20]])}function he(e,t,a,n,r){var c,s,o,i,u,l,m,b;return E.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,Object(A.b)(Ee,e,t,a,r);case 3:if(c=p.sent,s=c.damage,o=c.hp,i=c.critAttack,!n){p.next=14;break}return p.next=10,Object(A.d)(w.setLogAction("Enemy turn \n"));case 10:return p.next=12,Object(A.c)(1500);case 12:p.next=16;break;case 14:return p.next=16,Object(A.d)(w.setLogAction("Your turn \n"));case 16:return p.next=18,Object(A.c)(500);case 18:return p.next=20,Object(A.d)(w.makeAttack(o,n));case 20:if(1===i){p.next=32;break}if(!r){p.next=26;break}if(!((u=e.stats.find((function(e){return"mp"===e.name})))&&u.base>=20)){p.next=26;break}return p.next=26,Object(A.d)(w.reduceMP(u.base-20,n));case 26:return p.next=28,Object(A.d)(w.setLogAction("Critical attack!!!! \n"));case 28:return p.next=30,Object(A.d)(je("Critical attack!!!!",n));case 30:return p.next=32,Object(A.c)(1600);case 32:return p.next=34,Object(A.b)(Oe,e,t,s,a,n);case 34:if(!n){p.next=49;break}return p.next=37,Object(A.e)(q);case 37:if(!(p.sent<=0)){p.next=47;break}return p.next=41,Object(A.d)(w.setLogAction("".concat(e.name," WIN!!!")));case 41:return p.next=43,Object(A.d)(w.setMsg({type:"warning",msg:"You are looser, try more!!!"}));case 43:return p.next=45,Object(A.c)(2e3);case 45:return p.next=47,Object(A.d)(w.setIsLooser());case 47:p.next=89;break;case 49:return p.next=51,Object(A.e)(F);case 51:if(!(p.sent<=0)){p.next=87;break}return p.next=55,Object(A.d)(w.setLogAction("".concat(e.name," WIN!!!")));case 55:return p.next=57,Object(A.d)(w.pushResultOfTheBattle());case 57:return p.next=59,Object(A.d)(w.setCharPlayed(t.name));case 59:return p.next=61,Object(A.e)((function(t){return W(t,e.name)}));case 61:if(l=p.sent,m=l.enemy,b=l.player,!m){p.next=79;break}return p.next=67,Object(A.d)(w.setMsg({type:"success",msg:"Congratulations! You are the winner, but show must go on!",anchor:{horizontal:"center",vertical:"top"}}));case 67:return p.next=69,Object(A.c)(3e3);case 69:return p.next=71,Object(A.d)(w.clearLog());case 71:return p.next=73,Object(A.d)(w.loadPlayer(b));case 73:return p.next=75,Object(A.d)(w.loadEnemy(m));case 75:return p.next=77,Object(A.d)(w.isWaiting());case 77:p.next=85;break;case 79:return p.next=81,Object(A.d)(w.setMsg({type:"success",msg:"Congratulations! You are the champion my friend",anchor:{horizontal:"center",vertical:"top"}}));case 81:return p.next=83,Object(A.c)(2e3);case 83:return p.next=85,Object(A.d)(w.playerIsWinner());case 85:p.next=89;break;case 87:return p.next=89,Object(A.d)(w.playerAttack(!0,!1));case 89:p.next=95;break;case 91:return p.prev=91,p.t0=p.catch(0),p.next=95,Object(A.d)(w.setMsg({type:"error",msg:p.t0.message}));case 95:case"end":return p.stop()}}),fe,null,[[0,91]])}var ge=E.a.mark(xe),ye=E.a.mark(ve),je=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";return t?w.setMsg({type:a,msg:e,anchor:{vertical:"top",horizontal:"left"}}):w.setMsg({type:a,msg:e,anchor:{vertical:"top",horizontal:"right"}})};function xe(e){var t,a,n,r;return E.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.isEnemy){c.next=3;break}return c.next=3,Object(A.d)(w.isWaiting());case 3:return c.next=5,Object(A.e)(U);case 5:return t=c.sent,c.next=8,Object(A.e)(Y);case 8:if(a=c.sent,n=a.stats.find((function(e){return"mp"===e.name})),c.prev=10,r=100*Math.random()>75,!e.isEnemy){c.next=35;break}if(!(n&&n.base>=10&&a.countHP<=.5)){c.next=22;break}return c.next=16,Object(A.c)(2e3);case 16:return c.next=18,Object(A.d)(w.healActivate(!0));case 18:return c.next=20,Object(A.d)(w.isWaiting());case 20:c.next=33;break;case 22:if(!(n&&n.base>30&&t.countHP>.5)){c.next=29;break}return c.next=25,Object(A.b)(he,a,t,r,!0,!0);case 25:return c.next=27,Object(A.d)(w.isWaiting());case 27:c.next=33;break;case 29:return c.next=31,Object(A.b)(he,a,t,r,!0,!1);case 31:return c.next=33,Object(A.d)(w.isWaiting());case 33:c.next=37;break;case 35:return c.next=37,Object(A.b)(he,t,a,r,!1,e.isCrit);case 37:c.next=43;break;case 39:return c.prev=39,c.t0=c.catch(10),c.next=43,Object(A.d)(w.setMsg({type:"error",msg:c.t0.message}));case 43:case"end":return c.stop()}}),ge,null,[[10,39]])}function ve(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.f)(y,xe),Object(A.f)(C,de)]);case 2:case"end":return e.stop()}}),ye)}var Ce=E.a.mark(Te);function Te(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([oe(),me(),ve()]);case 2:case"end":return e.stop()}}),Ce)}var ke={alert:{msg:"",type:void 0,anchor:{horizontal:"center",vertical:"bottom"}}},Ne={Player:{name:"",stats:[],sprites:"",baseHP:0,countHP:100,weight:0,baseMP:0,countMP:100},Enemy:{name:"",stats:[],sprites:"",baseHP:0,countHP:100,weight:0,baseMP:0,countMP:100},gameStart:!1,log:{value:"",action:""},playerWaiting:!1,resultLog:[],isLooser:!1,isPlayerWinner:!1},Pe=Object(l.a)(),Le=Object(i.combineReducers)({charsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHARS/CHARS_REQUEST":return Object(b.a)(Object(b.a)({},e),{},{isLoading:!0});case"CHARS/END_CHARS_REQUEST":return Object(b.a)(Object(b.a)({},e),{},{isLoading:!1});case"CHARS/CHARS_REQUEST_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{chars:[].concat(Object(m.a)(e.chars),Object(m.a)(t.data))});case"CHARS/CHANGE_CHARS_REQUEST_OFFSET":return Object(b.a)(Object(b.a)({},e),{},{offset:e.offset+Math.floor(300*Math.random()+200)});case"CHARS/SET_CHARS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{requestLimit:t.count});case"CHARS/SET_CHAR_PLAYED":return Object(b.a)(Object(b.a)({},e),{},{chars:e.chars.map((function(e){return e.name===t.enemyName?Object(b.a)(Object(b.a)({},e),{},{played:!0}):e}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_MSG":return Object(b.a)(Object(b.a)({},e),{},{alert:Object(b.a)(Object(b.a)({},e.alert),t.alert)});default:return e}},initGame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BATTLE/INIT_GAME/LOAD_PLAYER":return Object(b.a)(Object(b.a)({},e),{},{Player:Object(b.a)(Object(b.a)(Object(b.a)({},e.Player),t.char),{},{countHP:100,countMP:100})});case"BATTLE/INIT_GAME/LOAD_ENEMY":return Object(b.a)(Object(b.a)({},e),{},{Enemy:Object(b.a)(Object(b.a)(Object(b.a)({},e.Enemy),t.char),{},{countHP:100,countMP:100})});case"BATTLE/INIT_GAME/START":return Object(b.a)(Object(b.a)({},e),{},{gameStart:!0});case"BATTLE/INIT_GAME/INIT_GAME":case"BATTLE/ENGINE/PLAYER_ATTACK":return e;case"BATTLE/ENGINE/MAKE_ATTACK":return t.isEnemy?Object(b.a)(Object(b.a)({},e),{},{Player:Object(b.a)(Object(b.a)({},e.Player),{},{stats:e.Player.stats.map((function(e){return"hp"===e.name?Object(b.a)(Object(b.a)({},e),{},{base:t.hp}):e})),countHP:t.hp/e.Player.baseHP})}):Object(b.a)(Object(b.a)({},e),{},{Enemy:Object(b.a)(Object(b.a)({},e.Enemy),{},{stats:e.Enemy.stats.map((function(e){return"hp"===e.name?Object(b.a)(Object(b.a)({},e),{},{base:t.hp}):e})),countHP:t.hp/e.Enemy.baseHP})});case"BATTLE/ENGINE/SET_LOG_ACTION":return Object(b.a)(Object(b.a)({},e),{},{log:Object(b.a)(Object(b.a)({},e.log),{},{value:e.log.value+t.action})});case"BATTLE/ENGINE/CLEAR_LOG_ACTION":return Object(b.a)(Object(b.a)({},e),{},{log:Object(b.a)(Object(b.a)({},e.log),{},{value:""})});case"BATTLE/ENGINE/IS_WAITING":return Object(b.a)(Object(b.a)({},e),{},{playerWaiting:!e.playerWaiting});case"BATTLE/ENGINE/HEAL_ACTION":return e;case"BATTLE/ENGINE/HEALING":return t.isEnemy?Object(b.a)(Object(b.a)({},e),{},{Enemy:Object(b.a)(Object(b.a)({},e.Enemy),{},{stats:e.Enemy.stats.map((function(e){return"hp"===e.name?Object(b.a)(Object(b.a)({},e),{},{base:t.hp}):e})),countHP:t.hp/e.Enemy.baseHP})}):Object(b.a)(Object(b.a)({},e),{},{Player:Object(b.a)(Object(b.a)({},e.Player),{},{stats:e.Player.stats.map((function(e){return"hp"===e.name?Object(b.a)(Object(b.a)({},e),{},{base:t.hp}):e})),countHP:t.hp/e.Player.baseHP})});case"BATTLE/ENGINE/REDUCE_MP":return t.isEnemy?Object(b.a)(Object(b.a)({},e),{},{Enemy:Object(b.a)(Object(b.a)({},e.Enemy),{},{stats:e.Enemy.stats.map((function(e){return"mp"===e.name?Object(b.a)(Object(b.a)({},e),{},{base:t.mp}):e})),countMP:t.mp/e.Enemy.baseMP})}):Object(b.a)(Object(b.a)({},e),{},{Player:Object(b.a)(Object(b.a)({},e.Player),{},{stats:e.Player.stats.map((function(e){return"mp"===e.name?Object(b.a)(Object(b.a)({},e),{},{base:t.mp}):e})),countMP:t.mp/e.Player.baseMP})});case"BATTLE/ENGINE/PUSH_RESULT":return Object(b.a)(Object(b.a)({},e),{},{resultLog:[].concat(Object(m.a)(e.resultLog),[{enemy:e.Enemy.name,log:e.log.value}])});case"BATTLE/ENGINE/IS_LOOSER":return Object(b.a)(Object(b.a)({},e),{},{isLooser:!0});case"BATTLE/ENGINE/IS_WINNER":return Object(b.a)(Object(b.a)({},e),{},{isPlayerWinner:!0});default:return e}}}),we=Object(i.createStore)(Le,Object(u.composeWithDevTools)(Object(i.applyMiddleware)(Pe)));Pe.run(Te);a(182);var Se=a(48),Re=a(44),Ie=a(247),Me=a(144),Ge=a(259),He=a(258),_e=function(){var e=Object(o.d)((function(e){return e.app.alert})),t=Object(o.c)(),a=Object(n.useState)(!1),c=Object(Me.a)(a,2),s=c[0],i=c[1],u=Object(n.useCallback)((function(){i(!1),t(w.setMsg({type:void 0,msg:""}))}),[t]);return Object(n.useEffect)((function(){e.msg&&i(!0)}),[e.msg]),e.type?r.a.createElement(Ge.a,{open:s,autoHideDuration:1500,onClose:u,anchorOrigin:e.anchor},r.a.createElement(He.a,{onClose:u,severity:e.type,variant:"filled"},e.msg)):null},Be=a(244),Qe=a(45),De=a(147),We=a(138),Ue=a.n(We),Ye=a(245),Fe=Object(De.a)({container:{backgroundColor:"rgb(75, 75, 87)"},innerContainer:{padding:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},logoContainer:{display:"flex",alignItems:"center"},logo:{marginRight:"25px",width:"60px",height:"55px"}}),qe=function(){var e=Fe();return r.a.createElement(Be.a,{container:!0,className:e.container},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement("div",{className:e.innerContainer},r.a.createElement("a",{href:"#"},r.a.createElement("div",{className:e.logoContainer},r.a.createElement("img",{className:e.logo,src:Ue.a,alt:"Logo"}),r.a.createElement(Qe.a,{variant:"h4",color:"textPrimary"},"PokeBattle"))),r.a.createElement(Se.b,{to:"/result"},r.a.createElement(Ye.a,{variant:"outlined"},"Finish")))))},Ze=a(106),Ve=a.n(Ze),Xe=function(){return r.a.createElement("div",{className:Ve.a.container},r.a.createElement("div",{className:Ve.a.lds_ripple,key:"ripple"},r.a.createElement("div",null),r.a.createElement("div",null)))},Je=a(212),Ke=a(261),ze=function(){var e=Object(Re.g)();return r.a.createElement(Be.a,{container:!0},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(Ke.a,{my:3},r.a.createElement(Qe.a,{align:"center",variant:"h4",color:"textPrimary"},"Welcome to the PokeBattle!"))),r.a.createElement(Be.a,{container:!0,justify:"center"},r.a.createElement(Be.a,{item:!0,xs:10},r.a.createElement(Je.a,{elevation:8},r.a.createElement(Ke.a,{p:3,mb:3},r.a.createElement(Qe.a,{align:"center",variant:"h6",color:"textPrimary",gutterBottom:!0},"About:"),r.a.createElement(Qe.a,{align:"center",variant:"body1",component:"div",color:"textSecondary",gutterBottom:!0},r.a.createElement("p",null,"This is 1 x 1 battle with two pokemons against each other."),r.a.createElement("p",null,"You should choose your pokemon in randomly list of chars."),r.a.createElement("p",null,"If you did not find your pokemon reload the page to get another list."),r.a.createElement("p",null,"Let`s start!")),r.a.createElement(Ke.a,{my:2,justifyContent:"center",display:"flex"},r.a.createElement(Ye.a,{variant:"contained",color:"primary",onClick:function(){e.push("/chars")}},"Go")))))))},$e={display:"flex",justifyContent:"space-between",height:"50px",color:"white",padding:"0 20px",background:"#4b4b57"},et=function(){return r.a.createElement("div",{style:$e},r.a.createElement("p",null,"@Copyright TECTO"),r.a.createElement("p",null,"Poke battle 2020"))},tt=a(260),at=a(248),nt=a(249),rt=a(57),ct=a.n(rt),st=ct()({logContainer:{whiteSpace:"break-spaces"}}),ot=function(e){var t=e.defeatedEnemyLog,a=st();return r.a.createElement("div",null,r.a.createElement(tt.a,null,r.a.createElement(at.a,{expandIcon:">"},r.a.createElement(Qe.a,null,"Defeated ".concat(t.enemy," log:"))),r.a.createElement(nt.a,null,r.a.createElement(Qe.a,{component:"div",className:a.logContainer},t.log))))},it=function(){var e=Object(o.d)(X);return r.a.createElement(Be.a,{container:!0},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(Ke.a,{my:3},r.a.createElement(Qe.a,{align:"center",variant:"h4",color:"textPrimary"},"Thank you for the game! You are welcome!"))),r.a.createElement(Be.a,{container:!0,justify:"center"},r.a.createElement(Be.a,{item:!0,xs:10},r.a.createElement(Je.a,{elevation:8},r.a.createElement(Ke.a,{p:3,mb:3},r.a.createElement(Qe.a,{align:"center",variant:"h6",color:"textPrimary",gutterBottom:!0},"Results:"),r.a.createElement(Qe.a,{align:"center",variant:"body1",component:"div",color:"textSecondary",gutterBottom:!0},r.a.createElement("p",null,"You defeat:"),r.a.createElement("span",null,e.length),r.a.createElement("span",null," enemies")),r.a.createElement(Ke.a,{my:2,justifyContent:"center",display:"flex",flexDirection:"column"},e.map((function(e){return r.a.createElement(ot,{defeatedEnemyLog:e,key:e.enemy})})),r.a.createElement("p",null,"Try more")),r.a.createElement("a",{href:"#"},r.a.createElement(Ye.a,{variant:"contained",color:"primary"},"Go")))))))},ut=a(255),lt=a(250),mt=a(262),bt=a(251),pt=a(252),dt=a(253),Et=a(254),At=ct()((function(e){return{avatar:{border:"1px solid white",width:"70px",height:"70px"},listItem:{justifyContent:"space-between",borderBottom:"1px solid ".concat(e.palette.primary.light)},hp:{justifyContent:"space-between",borderBottom:"1px solid ".concat(e.palette.primary.light)}}})),ft=r.a.memo((function(e){var t=e.char,a=At(),n=function(e,t){return"hp"===e.name&&t.countHP?{background:"linear-gradient(90deg, #f44336 ".concat(100*t.countHP,"%, rgba(0,0,0,0.12) 0%)")}:"mp"===e.name&&t.countMP?{background:"linear-gradient(90deg, #3f51b5 ".concat(100*t.countMP,"%, rgba(0,0,0,0.12) 0%)")}:{}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{avatar:r.a.createElement(mt.a,{src:t.sprites,variant:"rounded",className:a.avatar,"data-testid":"img avatar"}),title:t.name,titleTypographyProps:{variant:"h5"}}),r.a.createElement(bt.a,null,r.a.createElement(pt.a,null,t.stats.map((function(e,c){return r.a.createElement(dt.a,{style:n(e,t),className:a.listItem,key:e.name+c,dense:!0},r.a.createElement(Et.a,{primary:e.name,"data-testid":"stat name"}),r.a.createElement(Et.a,{secondary:e.base,"data-testid":"stat base"}))})))))})),Ot=ct()((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center",padding:"20px"},container:{padding:"20px"},card:{width:"250px",margin:"0 10px 20px",padding:"20px"},paging:{display:"flex",justifyContent:"center"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:"20px"}}})),ht=function(){var e=function(){var e=Object(o.c)(),t=Object(o.d)(G,o.b),a=Object(o.d)(H,o.b),r=t||a,c=Object(o.d)(_,o.b),s=Object(o.d)(B,o.b),i=Object(o.d)(Q,o.b),u=Object(Re.g)();Object(n.useEffect)((function(){0===s&&e(w.charsRequest(0))}),[e,s]);var l=Object(n.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){e(w.charsRequest(t))}}),[e]),m=Object(n.useCallback)((function(t){return function(){e(w.initGame(t,u))}}),[e,u]);return{isLoading:r,loadingChars:t,chars:c,offset:s,requestLimit:i,onFetchChars:l,onInit:m}}(),t=e.isLoading,a=e.loadingChars,c=e.chars,s=e.requestLimit,i=e.offset,u=e.onFetchChars,l=e.onInit,m=Ot(),b=c.map((function(e){return r.a.createElement(ut.a,{className:m.card,key:e.name},r.a.createElement(ft,{char:e}),r.a.createElement("div",{className:m.paging},r.a.createElement(Ye.a,{variant:"contained",onClick:l(e.name),disabled:t},"Choose")))}));return r.a.createElement(Be.a,{container:!0,className:m.container},r.a.createElement(Be.a,{item:!0,xs:12},r.a.createElement(Qe.a,{align:"center",variant:"h4",color:"textPrimary"},"Be ready for the battle! Choose your random char"),r.a.createElement("div",null,r.a.createElement("div",{className:m.root},b),r.a.createElement("div",null,a&&r.a.createElement(Xe,null)),r.a.createElement("div",{className:m.buttonContainer},r.a.createElement(Ye.a,{variant:"contained",color:"primary",onClick:u(i),disabled:t||i>=s},"SHOW MORE")))))},gt=a(143),yt=Object(gt.a)({palette:{type:"dark"},overrides:{MuiListItemText:{root:{flex:"0 1 auto"}}}}),jt=a(107),xt=a.n(jt),vt=a(256),Ct=a(142),Tt=a.n(Ct),kt=a(257),Nt=a(140),Pt=a.n(Nt),Lt=a(141),wt=a.n(Lt),St=Tt()({container:{padding:"20px"},card:{width:"250px"},playersContainer:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},playerCard:{display:"flex",flexWrap:"wrap",marginBottom:"10px","& .actions":{paddingLeft:"10px",margin:"10px 0","& button":{marginRight:"10px"}}},loggerContainer:{marginTop:"10px","& div":{width:"375px","& textarea":{color:"#757575",lineHeight:"1.75",fontStyle:"oblique",fontFamily:"monospace",fontSize:"inherit"}}}}),Rt=function(){var e=St(),t=function(){var e=Object(o.c)(),t=Object(o.d)(U),a=Object(o.d)(Y),r=Object(o.d)(Z),c=Object(o.d)(V),s=Object(o.d)(J),i=Object(o.d)(K),u=t.stats.find((function(e){return"mp"===e.name})),l=u&&u.base<20;return{playerData:t,enemyData:a,loggerValue:r,onPlayerAttack:Object(n.useCallback)((function(){return e(w.playerAttack(!1,!1))}),[e]),waiting:c,onPlayerHealing:Object(n.useCallback)((function(){return e(w.healActivate(!1))}),[e]),onCriticalAttack:Object(n.useCallback)((function(){return e(w.playerAttack(!1,!0))}),[e]),isLooser:i,isPlayerWinner:s,critAttackDisable:l}}(),a=t.playerData,c=t.enemyData,s=t.loggerValue,i=t.onPlayerAttack,u=t.waiting,l=t.onPlayerHealing,m=t.onCriticalAttack,b=t.isLooser,p=t.isPlayerWinner,d=t.critAttackDisable,E=u||0===a.countMP;return p||b?r.a.createElement(Re.a,{to:"/result"}):r.a.createElement(xt.a,{container:!0,className:e.container},r.a.createElement(xt.a,{item:!0,xs:12,className:e.playersContainer},r.a.createElement("div",{className:e.playerCard,"data-testid":"player card"},r.a.createElement(ut.a,{className:e.card},r.a.createElement(ft,{char:a})),r.a.createElement("div",{className:"actions"},r.a.createElement(Ye.a,{variant:"outlined",color:"secondary",onClick:i,disabled:u,"data-testid":"attack-btn"},"Attack"),r.a.createElement(vt.a,{color:"primary",badgeContent:"10 MP"},r.a.createElement(Ye.a,{variant:"contained",color:"default",onClick:l,disabled:E,"data-testid":"heal-btn"},r.a.createElement("img",{src:Pt.a,alt:"heal"}))),r.a.createElement(vt.a,{color:"primary",badgeContent:"20 MP"},r.a.createElement(Ye.a,{variant:"contained",color:"default",onClick:m,disabled:E||d,"data-testid":"super attack-btn"},r.a.createElement("img",{src:wt.a,alt:"super attack"}))),r.a.createElement("div",{className:e.loggerContainer},r.a.createElement(kt.a,{id:"logger",label:"Logger",value:s,multiline:!0,rowsMax:15,size:"medium"})))),r.a.createElement(ut.a,{className:e.card,"data-testid":"enemy card"},r.a.createElement(ft,{char:c}))))},It={display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},Mt=function(){return r.a.createElement(Se.a,null,r.a.createElement(Ie.a,{theme:yt},r.a.createElement(_e,null),r.a.createElement("div",{style:It},r.a.createElement(qe,null),r.a.createElement(Re.d,null,r.a.createElement(Re.b,{path:"/",exact:!0},r.a.createElement(ze,null)),r.a.createElement(Re.b,{path:"/chars"},r.a.createElement(ht,null)),r.a.createElement(Re.b,{path:"/battle"},r.a.createElement(Rt,null)),r.a.createElement(Re.b,{path:"/result"},r.a.createElement(it,null))),r.a.createElement(et,null))))};s.a.render(r.a.createElement(o.a,{store:we},r.a.createElement(Mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[155,1,2]]]);
//# sourceMappingURL=main.5f80570f.chunk.js.map